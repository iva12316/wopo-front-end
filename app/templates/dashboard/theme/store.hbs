{{title "Магазин за теми"}}
{{nav-bar}}
<div class="container">
  <div class="page-title">
    <h2 class="float-left">Магазин за теми</h2>

    <button class="btn btn-success float-right" data-toggle="modal" data-target=".modal.addTheme">
      Собствена тема
    </button>

    {{theme-modal
      data=addTheme
      modalVisible=addThemeModalVisible
      alert=addThemeAlert
      disableSubmit=disableSubmit
      addTheme=(action 'addTheme')
      custom=true
    }}
  </div>
  <div class="row">
    {{#each themes as |theme|}}
      <div class="col-xl-4 col-md-6">
        <div class="card card-block">
          <div class="card-title">
            <h4 title="{{theme.name}}">{{theme.name}}</h4>
            {{#if (not theme.installed)}}
              <button disabled={{if (eq disableBtn theme.id) true false}} class="btn btn-success" {{action "install" theme}}>
                Инсталирай
              </button>
            {{else if canUninstall}}
              <button disabled={{if (eq disableBtn theme.id) true false}} class="btn btn-secondary" {{action "uninstall" theme}}>
                Деинсталирай
              </button>
            {{/if}}
          </div>
          <div class="card-img">
            <img class="img-fluid m-x-auto d-block" src="{{theme.cover}}" alt="">
          </div>
          <div class="card-block">
            <a href="{{theme.demo_url}}" class="card-link" target="_blank">Демо</a>

            {{#if theme.custom}}
              <button class="btn btn-link card-link" {{action "remove" theme}} disabled={{disableRemove}}>Изтрий</button>
            {{/if}}
          </div>
        </div>
      </div>
    {{/each}}
  </div>
</div>
